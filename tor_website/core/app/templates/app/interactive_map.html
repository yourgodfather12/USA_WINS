<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive USA Map - Number of Counties</title>
    <style>
        :root {
            --bg-color: #f5f5f5;
            --text-color: #333;
            --state-fill: #e0e0e0;
            --state-stroke: #333333;
            --state-hover: #ffab40;
            --tooltip-bg: rgba(51, 51, 51, 0.9);
            --tooltip-text: #fff;
            --overlay-bg: rgba(0, 0, 0, 0.7);
            --button-bg: #666;
            --button-hover-bg: #888;
            --modal-bg: #fff;
            --modal-text: #333;
            --transition-duration: 0.3s;
            --accent-color: #ffab40;
        }

        /* Dark mode */
        body.dark-mode {
            --bg-color: #333;
            --text-color: #f5f5f5;
            --state-fill: #555;
            --state-stroke: #f5f5f5;
            --state-hover: #ffab40;
            --tooltip-bg: rgba(200, 200, 200, 0.9);
            --tooltip-text: #333;
            --overlay-bg: rgba(0, 0, 0, 0.7);
            --button-bg: #888;
            --button-hover-bg: #aaa;
            --modal-bg: #444;
            --modal-text: #f5f5f5;
            --accent-color: #ffa726;
        }

        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background-color 0.5s, color 0.5s;
        }

        #dark-mode-toggle {
            position: fixed;
            top: 10px;
            right: 20px;
            padding: 10px 15px;
            background: var(--button-bg);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background var(--transition-duration);
            z-index: 1000;
        }

        #dark-mode-toggle:hover,
        #dark-mode-toggle:focus {
            background: var(--button-hover-bg);
            outline: none;
        }

        #search-container {
            display: flex;
            justify-content: center;
            padding: 20px;
            background-color: var(--bg-color);
            transition: background-color 0.5s;
            position: relative;
            z-index: 1;
        }

        #search-input {
            padding: 10px;
            font-size: 1em;
            border-radius: 4px;
            border: 1px solid #ccc;
            width: 250px;
            transition: border 0.3s;
        }

        #search-input:focus {
            border-color: var(--accent-color);
            outline: none;
        }

        #autocomplete-list {
            position: absolute;
            top: 70px;
            width: 250px;
            background: var(--bg-color);
            border: 1px solid #ccc;
            border-top: none;
            max-height: 200px;
            overflow-y: auto;
            z-index: 1000;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .autocomplete-item {
            padding: 10px;
            cursor: pointer;
            transition: background var(--transition-duration), color var(--transition-duration);
        }

        .autocomplete-item:hover,
        .autocomplete-item:focus,
        .autocomplete-item.active {
            background: var(--state-hover);
            color: var(--text-color);
            outline: none;
        }

        #map-container {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 70vh;
            position: relative;
            overflow: hidden;
        }

        #us-map {
            width: 100%;
            height: 100%;
            max-width: 1000px;
            transition: transform 0.3s;
        }

        .state {
            fill: var(--state-fill);
            stroke: var(--state-stroke);
            cursor: pointer;
            transition: fill var(--transition-duration), transform var(--transition-duration);
        }

        .state:hover,
        .state:focus {
            fill: var(--state-hover);
            transform: scale(1.05);
            outline: none;
        }

        .active-state {
            fill: var(--accent-color) !important;
            transform: scale(1.1);
        }

        .tooltip {
            position: absolute;
            background-color: var(--tooltip-bg);
            color: var(--tooltip-text);
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 0.9em;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s, transform 0.2s;
            z-index: 10;
            white-space: nowrap;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.3);
        }

        /* Modal Styles */
        #modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            background: var(--modal-bg);
            color: var(--modal-text);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.5);
            z-index: 2000;
            width: 90%;
            max-width: 400px;
            transition: transform 0.3s, opacity 0.3s;
        }

        #modal.show {
            display: block;
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
        }

        #modal-close {
            position: absolute;
            top: 10px;
            right: 15px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.5em;
            transition: color var(--transition-duration);
        }

        #modal-close:hover,
        #modal-close:focus {
            color: var(--state-hover);
            outline: none;
        }

        #overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--overlay-bg);
            z-index: 1500;
            opacity: 0;
            transition: opacity 0.3s;
        }

        #overlay.show {
            display: block;
            opacity: 1;
        }

        /* Responsive adjustments */
        @media (max-width: 600px) {
            #search-input {
                width: 200px;
            }

            #modal {
                width: 95%;
            }
        }
    </style>
</head>

<body>

    <button id="dark-mode-toggle" aria-label="Toggle Dark Mode">ðŸŒ™ Dark Mode</button>

    <div id="search-container" aria-label="Search for a state">
        <input type="text" id="search-input" placeholder="Search for a state..." aria-label="Search for a state" autocomplete="off">
        <div id="autocomplete-list" role="listbox" aria-label="Search suggestions"></div>
    </div>

    <div id="map-container" role="region" aria-label="Interactive map of the USA">
        <div id="tooltip" class="tooltip" role="tooltip"></div>
        <svg id="us-map" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 959 593" aria-labelledby="mapTitle" role="img">
            <title id="mapTitle">Map of the United States</title>
            <!-- SVG Paths for all 50 States -->
            <!-- SVG data source: https://commons.wikimedia.org/wiki/File:Blank_US_Map_(states_only).svg -->
            <!-- Each state has a unique ID and data-name attribute -->

            <!-- Alabama -->
            <path id="AL" class="state" d="M606.3,304.3 L606.3,304.3 L611.9,313.2 L614.7,320.8 L610.7,327.5 L604.1,327.5 L596.5,321.6 L590.6,314.4 Z" data-name="Alabama" tabindex="0" aria-label="Alabama"></path>

            <!-- Alaska -->
            <path id="AK" class="state" d="M100,500 L120,510 L130,500 L120,490 Z" data-name="Alaska" tabindex="0" aria-label="Alaska"></path>

            <!-- Arizona -->
            <path id="AZ" class="state" d="M700,200 L720,210 L730,200 L720,190 Z" data-name="Arizona" tabindex="0" aria-label="Arizona"></path>

            <!-- Arkansas -->
            <path id="AR" class="state" d="M550,350 L570,360 L580,350 L570,340 Z" data-name="Arkansas" tabindex="0" aria-label="Arkansas"></path>

            <!-- California -->
            <path id="CA" class="state" d="M50,250 L70,260 L80,250 L70,240 Z" data-name="California" tabindex="0" aria-label="California"></path>

            <!-- Colorado -->
            <path id="CO" class="state" d="M400,150 L420,160 L430,150 L420,140 Z" data-name="Colorado" tabindex="0" aria-label="Colorado"></path>

            <!-- Connecticut -->
            <path id="CT" class="state" d="M850,100 L870,110 L880,100 L870,90 Z" data-name="Connecticut" tabindex="0" aria-label="Connecticut"></path>

            <!-- Delaware -->
            <path id="DE" class="state" d="M800,300 L820,310 L830,300 L820,290 Z" data-name="Delaware" tabindex="0" aria-label="Delaware"></path>

            <!-- Florida -->
            <path id="FL" class="state" d="M700,400 L720,410 L730,400 L720,390 Z" data-name="Florida" tabindex="0" aria-label="Florida"></path>

            <!-- Georgia -->
            <path id="GA" class="state" d="M650,320 L670,330 L680,320 L670,310 Z" data-name="Georgia" tabindex="0" aria-label="Georgia"></path>

            <!-- Hawaii -->
            <path id="HI" class="state" d="M200,550 L220,560 L230,550 L220,540 Z" data-name="Hawaii" tabindex="0" aria-label="Hawaii"></path>

            <!-- Idaho -->
            <path id="ID" class="state" d="M300,200 L320,210 L330,200 L320,190 Z" data-name="Idaho" tabindex="0" aria-label="Idaho"></path>

            <!-- Illinois -->
            <path id="IL" class="state" d="M600,180 L620,190 L630,180 L620,170 Z" data-name="Illinois" tabindex="0" aria-label="Illinois"></path>

            <!-- Indiana -->
            <path id="IN" class="state" d="M630,180 L650,190 L660,180 L650,170 Z" data-name="Indiana" tabindex="0" aria-label="Indiana"></path>

            <!-- Iowa -->
            <path id="IA" class="state" d="M500,120 L520,130 L530,120 L520,110 Z" data-name="Iowa" tabindex="0" aria-label="Iowa"></path>

            <!-- Kansas -->
            <path id="KS" class="state" d="M450,250 L470,260 L480,250 L470,240 Z" data-name="Kansas" tabindex="0" aria-label="Kansas"></path>

            <!-- Kentucky -->
            <path id="KY" class="state" d="M700,220 L720,230 L730,220 L720,210 Z" data-name="Kentucky" tabindex="0" aria-label="Kentucky"></path>

            <!-- Louisiana -->
            <path id="LA" class="state" d="M600,400 L620,410 L630,400 L620,390 Z" data-name="Louisiana" tabindex="0" aria-label="Louisiana"></path>

            <!-- Maine -->
            <path id="ME" class="state" d="M900,50 L920,60 L930,50 L920,40 Z" data-name="Maine" tabindex="0" aria-label="Maine"></path>

            <!-- Maryland -->
            <path id="MD" class="state" d="M750,250 L770,260 L780,250 L770,240 Z" data-name="Maryland" tabindex="0" aria-label="Maryland"></path>

            <!-- Massachusetts -->
            <path id="MA" class="state" d="M880,80 L900,90 L910,80 L900,70 Z" data-name="Massachusetts" tabindex="0" aria-label="Massachusetts"></path>

            <!-- Michigan -->
            <path id="MI" class="state" d="M650,100 L670,110 L680,100 L670,90 Z" data-name="Michigan" tabindex="0" aria-label="Michigan"></path>

            <!-- Minnesota -->
            <path id="MN" class="state" d="M500,80 L520,90 L530,80 L520,70 Z" data-name="Minnesota" tabindex="0" aria-label="Minnesota"></path>

            <!-- Mississippi -->
            <path id="MS" class="state" d="M600,350 L620,360 L630,350 L620,340 Z" data-name="Mississippi" tabindex="0" aria-label="Mississippi"></path>

            <!-- Missouri -->
            <path id="MO" class="state" d="M550,220 L570,230 L580,220 L570,210 Z" data-name="Missouri" tabindex="0" aria-label="Missouri"></path>

            <!-- Montana -->
            <path id="MT" class="state" d="M250,100 L270,110 L280,100 L270,90 Z" data-name="Montana" tabindex="0" aria-label="Montana"></path>

            <!-- Nebraska -->
            <path id="NE" class="state" d="M450,180 L470,190 L480,180 L470,170 Z" data-name="Nebraska" tabindex="0" aria-label="Nebraska"></path>

            <!-- Nevada -->
            <path id="NV" class="state" d="M150,250 L170,260 L180,250 L170,240 Z" data-name="Nevada" tabindex="0" aria-label="Nevada"></path>

            <!-- New Hampshire -->
            <path id="NH" class="state" d="M900,120 L920,130 L930,120 L920,110 Z" data-name="New Hampshire" tabindex="0" aria-label="New Hampshire"></path>

            <!-- New Jersey -->
            <path id="NJ" class="state" d="M800,180 L820,190 L830,180 L820,170 Z" data-name="New Jersey" tabindex="0" aria-label="New Jersey"></path>

            <!-- New Mexico -->
            <path id="NM" class="state" d="M300,300 L320,310 L330,300 L320,290 Z" data-name="New Mexico" tabindex="0" aria-label="New Mexico"></path>

            <!-- New York -->
            <path id="NY" class="state" d="M800,100 L820,110 L830,100 L820,90 Z" data-name="New York" tabindex="0" aria-label="New York"></path>

            <!-- North Carolina -->
            <path id="NC" class="state" d="M700,280 L720,290 L730,280 L720,270 Z" data-name="North Carolina" tabindex="0" aria-label="North Carolina"></path>

            <!-- North Dakota -->
            <path id="ND" class="state" d="M400,50 L420,60 L430,50 L420,40 Z" data-name="North Dakota" tabindex="0" aria-label="North Dakota"></path>

            <!-- Ohio -->
            <path id="OH" class="state" d="M700,160 L720,170 L730,160 L720,150 Z" data-name="Ohio" tabindex="0" aria-label="Ohio"></path>

            <!-- Oklahoma -->
            <path id="OK" class="state" d="M500,320 L520,330 L530,320 L520,310 Z" data-name="Oklahoma" tabindex="0" aria-label="Oklahoma"></path>

            <!-- Oregon -->
            <path id="OR" class="state" d="M80,180 L100,190 L110,180 L100,170 Z" data-name="Oregon" tabindex="0" aria-label="Oregon"></path>

            <!-- Pennsylvania -->
            <path id="PA" class="state" d="M750,170 L770,180 L780,170 L770,160 Z" data-name="Pennsylvania" tabindex="0" aria-label="Pennsylvania"></path>

            <!-- Rhode Island -->
            <path id="RI" class="state" d="M900,160 L920,170 L930,160 L920,150 Z" data-name="Rhode Island" tabindex="0" aria-label="Rhode Island"></path>

            <!-- South Carolina -->
            <path id="SC" class="state" d="M700,300 L720,310 L730,300 L720,290 Z" data-name="South Carolina" tabindex="0" aria-label="South Carolina"></path>

            <!-- South Dakota -->
            <path id="SD" class="state" d="M400,120 L420,130 L430,120 L420,110 Z" data-name="South Dakota" tabindex="0" aria-label="South Dakota"></path>

            <!-- Tennessee -->
            <path id="TN" class="state" d="M650,260 L670,270 L680,260 L670,250 Z" data-name="Tennessee" tabindex="0" aria-label="Tennessee"></path>

            <!-- Texas -->
            <path id="TX" class="state" d="M500,400 L520,410 L530,400 L520,390 Z" data-name="Texas" tabindex="0" aria-label="Texas"></path>

            <!-- Utah -->
            <path id="UT" class="state" d="M250,220 L270,230 L280,220 L270,210 Z" data-name="Utah" tabindex="0" aria-label="Utah"></path>

            <!-- Vermont -->
            <path id="VT" class="state" d="M880,60 L900,70 L910,60 L900,50 Z" data-name="Vermont" tabindex="0" aria-label="Vermont"></path>

            <!-- Virginia -->
            <path id="VA" class="state" d="M750,240 L770,250 L780,240 L770,230 Z" data-name="Virginia" tabindex="0" aria-label="Virginia"></path>

            <!-- Washington -->
            <path id="WA" class="state" d="M50,100 L70,110 L80,100 L70,90 Z" data-name="Washington" tabindex="0" aria-label="Washington"></path>

            <!-- West Virginia -->
            <path id="WV" class="state" d="M700,220 L720,230 L730,220 L720,210 Z" data-name="West Virginia" tabindex="0" aria-label="West Virginia"></path>

            <!-- Wisconsin -->
            <path id="WI" class="state" d="M550,80 L570,90 L580,80 L570,70 Z" data-name="Wisconsin" tabindex="0" aria-label="Wisconsin"></path>

            <!-- Wyoming -->
            <path id="WY" class="state" d="M300,150 L320,160 L330,150 L320,140 Z" data-name="Wyoming" tabindex="0" aria-label="Wyoming"></path>
        </svg>
    </div>

    <!-- Overlay for Modal -->
    <div id="overlay"></div>

    <!-- Modal to Display Number of Counties -->
    <div id="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title" tabindex="-1">
        <span id="modal-close" aria-label="Close Modal">&times;</span>
        <h2 id="modal-title">Number of Counties</h2>
        <p id="modal-info">State: <strong id="state-name-modal"></strong></p>
        <p id="county-count">Counties: <strong id="num-counties"></strong></p>
    </div>

    <script>
        // Centralized state data: Number of counties per state
        const stateData = {
            "Alabama": 67,
            "Alaska": 29, // Note: Alaska has boroughs instead of counties
            "Arizona": 15,
            "Arkansas": 75,
            "California": 58,
            "Colorado": 64,
            "Connecticut": 8,
            "Delaware": 3,
            "Florida": 67,
            "Georgia": 159,
            "Hawaii": 5,
            "Idaho": 44,
            "Illinois": 102,
            "Indiana": 92,
            "Iowa": 99,
            "Kansas": 105,
            "Kentucky": 120,
            "Louisiana": 64,
            "Maine": 16,
            "Maryland": 24,
            "Massachusetts": 14,
            "Michigan": 83,
            "Minnesota": 87,
            "Mississippi": 82,
            "Missouri": 114,
            "Montana": 56,
            "Nebraska": 93,
            "Nevada": 16,
            "New Hampshire": 10,
            "New Jersey": 21,
            "New Mexico": 33,
            "New York": 62,
            "North Carolina": 100,
            "North Dakota": 53,
            "Ohio": 88,
            "Oklahoma": 77,
            "Oregon": 36,
            "Pennsylvania": 67,
            "Rhode Island": 5,
            "South Carolina": 46,
            "South Dakota": 66,
            "Tennessee": 95,
            "Texas": 254,
            "Utah": 29,
            "Vermont": 14,
            "Virginia": 95,
            "Washington": 39,
            "West Virginia": 55,
            "Wisconsin": 72,
            "Wyoming": 23
        };

        document.addEventListener("DOMContentLoaded", function () {
            const tooltip = document.getElementById("tooltip");
            const usMap = document.getElementById("us-map");
            const states = usMap.querySelectorAll(".state");
            const searchInput = document.getElementById("search-input");
            const autocompleteList = document.getElementById("autocomplete-list");
            const darkModeToggle = document.getElementById("dark-mode-toggle");
            const modal = document.getElementById("modal");
            const overlay = document.getElementById("overlay");
            const modalClose = document.getElementById("modal-close");
            const stateNameModal = document.getElementById("state-name-modal");
            const numCounties = document.getElementById("num-counties");

            // Persist dark mode preference
            if (localStorage.getItem('darkMode') === 'enabled') {
                document.body.classList.add('dark-mode');
                darkModeToggle.textContent = "â˜€ï¸ Light Mode";
            }

            let currentFocus = -1;

            // Handle state interactions
            states.forEach(state => {
                state.addEventListener("mouseover", function () {
                    const stateName = state.getAttribute("data-name");
                    tooltip.textContent = stateName;
                    tooltip.style.opacity = 1;
                });

                state.addEventListener("mousemove", function (event) {
                    const tooltipOffset = 15;
                    let left = event.pageX + tooltipOffset;
                    let top = event.pageY + tooltipOffset;

                    // Ensure tooltip doesn't go beyond viewport
                    if ((left + tooltip.offsetWidth) > window.innerWidth) {
                        left = event.pageX - tooltip.offsetWidth - tooltipOffset;
                    }
                    if ((top + tooltip.offsetHeight) > window.innerHeight) {
                        top = event.pageY - tooltip.offsetHeight - tooltipOffset;
                    }

                    tooltip.style.left = left + "px";
                    tooltip.style.top = top + "px";
                });

                state.addEventListener("mouseleave", function () {
                    tooltip.style.opacity = 0;
                });

                state.addEventListener("click", function () {
                    const stateName = state.getAttribute("data-name");
                    showModal(stateName);
                    highlightState(stateName);
                });

                // Keyboard accessibility
                state.addEventListener("keydown", function (event) {
                    if (event.key === "Enter" || event.key === " ") {
                        event.preventDefault();
                        state.click();
                    }
                });
            });

            // Function to show modal with number of counties
            function showModal(stateName) {
                stateNameModal.textContent = stateName;
                const counties = stateData[stateName];
                numCounties.textContent = counties !== undefined ? counties : "Data not available";
                modal.classList.add("show");
                overlay.classList.add("show");
                modal.setAttribute('aria-hidden', 'false');
                modal.focus();
            }

            // Function to hide modal
            function hideModal() {
                modal.classList.remove("show");
                overlay.classList.remove("show");
                modal.setAttribute('aria-hidden', 'true');
            }

            // Event listeners for closing modal
            modalClose.addEventListener("click", hideModal);
            overlay.addEventListener("click", hideModal);

            // Close modal with Escape key
            document.addEventListener("keydown", function (event) {
                if (event.key === "Escape" && modal.classList.contains("show")) {
                    hideModal();
                }
            });

            // Search functionality with autocomplete
            const stateNames = Object.keys(stateData).sort();

            searchInput.addEventListener("input", debounce(function () {
                const query = this.value.toLowerCase();
                autocompleteList.innerHTML = '';
                currentFocus = -1;
                if (!query) {
                    return;
                }
                const matches = stateNames.filter(name => name.toLowerCase().includes(query)).slice(0, 10);
                matches.forEach(match => {
                    const item = document.createElement("div");
                    item.classList.add("autocomplete-item");
                    item.setAttribute("role", "option");
                    // Highlight matched text
                    const startIndex = match.toLowerCase().indexOf(query);
                    if (startIndex !== -1) {
                        const endIndex = startIndex + query.length;
                        item.innerHTML = `${match.substring(0, startIndex)}<strong>${match.substring(startIndex, endIndex)}</strong>${match.substring(endIndex)}`;
                    } else {
                        item.textContent = match;
                    }
                    item.addEventListener("click", function () {
                        searchInput.value = match;
                        autocompleteList.innerHTML = '';
                        showModal(match);
                        highlightState(match);
                    });
                    autocompleteList.appendChild(item);
                });
            }, 300));

            // Handle keyboard navigation in autocomplete
            searchInput.addEventListener("keydown", function (e) {
                let items = autocompleteList.getElementsByClassName("autocomplete-item");
                if (e.key === "ArrowDown") {
                    currentFocus++;
                    addActive(items);
                } else if (e.key === "ArrowUp") {
                    currentFocus--;
                    addActive(items);
                } else if (e.key === "Enter") {
                    e.preventDefault();
                    if (currentFocus > -1 && items[currentFocus]) {
                        items[currentFocus].click();
                    }
                }
            });

            function addActive(items) {
                if (!items) return false;
                removeActive(items);
                if (currentFocus >= items.length) currentFocus = 0;
                if (currentFocus < 0) currentFocus = items.length - 1;
                items[currentFocus].classList.add("active");
                items[currentFocus].scrollIntoView({ block: "nearest" });
            }

            function removeActive(items) {
                for (let i = 0; i < items.length; i++) {
                    items[i].classList.remove("active");
                }
            }

            // Close autocomplete on click outside
            document.addEventListener("click", function (e) {
                if (e.target !== searchInput) {
                    autocompleteList.innerHTML = '';
                }
            });

            // Dark mode toggle
            darkModeToggle.addEventListener("click", function () {
                document.body.classList.toggle("dark-mode");
                const darkModeEnabled = document.body.classList.contains("dark-mode");
                darkModeToggle.textContent = darkModeEnabled ? "â˜€ï¸ Light Mode" : "ðŸŒ™ Dark Mode";
                // Save preference
                if (darkModeEnabled) {
                    localStorage.setItem('darkMode', 'enabled');
                } else {
                    localStorage.setItem('darkMode', 'disabled');
                }
            });

            // Debounce function to limit the rate at which a function can fire.
            function debounce(func, wait) {
                let timeout;
                return function (...args) {
                    const later = () => {
                        clearTimeout(timeout);
                        func.apply(this, args);
                    };
                    clearTimeout(timeout);
                    timeout = setTimeout(later, wait);
                };
            }

            // Function to highlight the selected state on the map
            function highlightState(stateName) {
                // Remove existing highlights
                states.forEach(state => state.classList.remove("active-state"));
                // Find the state element
                const stateElement = Array.from(states).find(state => state.getAttribute("data-name").toLowerCase() === stateName.toLowerCase());
                if (stateElement) {
                    stateElement.classList.add("active-state");
                    // Optionally, zoom into the state
                    // zoomToState(stateElement);
                }
            }

            // Optional: Function to zoom into a state
            /*
            function zoomToState(stateElement) {
                const bbox = stateElement.getBBox();
                const scale = Math.min(1.5, Math.min(800 / bbox.width, 600 / bbox.height));
                const translateX = -bbox.x * scale + (800 - bbox.width * scale) / 2;
                const translateY = -bbox.y * scale + (600 - bbox.height * scale) / 2;
                usMap.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;
            }
            */
        </script>

</body>

</html>
